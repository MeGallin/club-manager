"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[397],{3517:function(e,n,t){t.d(n,{Z:function(){return f}});var s=t(4942),r=t(1413),a=t(885),i=t(2791),o=t(9434),l=t(4029),u=t(7388),c=t(1141),d=t(5386),p=t(9183),m=t(2986),v=t(4419),h=t(184),f=function(){var e=(0,o.I0)(),n=(0,o.v9)((function(e){return e.userAdminDetails})),t=n.loading,f=n.success,g=n.error,x=n.userAdmin,j=(0,i.useState)({id:null===x||void 0===x?void 0:x._id,username:void 0!==x?null===x||void 0===x?void 0:x.username:"",email:void 0!==x?null===x||void 0===x?void 0:x.email:"",password:""}),y=(0,a.Z)(j,2),Z=y[0],b=y[1],w=Z.username,N=Z.email,C=Z.password,I=function(e){b((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,s.Z)({},e.target.name,e.target.value))}))},k=(0,o.v9)((function(e){return e.userUpdateAdminDetails})),A=k.loading,S=k.success,T=k.error;return(0,h.jsxs)(h.Fragment,{children:[g?(0,h.jsx)(p.Z,{error:g}):null,T?(0,h.jsx)(p.Z,{error:T}):null,S?(0,h.jsx)(m.Z,{message:"Update was successful"}):null,A?(0,h.jsx)(d.Z,{}):null,f&&null!==x&&void 0!==x&&x.isConfirmed?(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("fieldset",{className:"fieldSet",children:[(0,h.jsx)("legend",{children:"Edit Your USER Details"}),(0,h.jsxs)("form",{onSubmit:function(n){n.preventDefault(),e((0,l.tN)(Z))},children:[(0,h.jsx)(u.Z,{label:"User Name",value:w,type:"text",name:"username",required:!0,className:v.cm.test(w)?"entered":"invalid",error:v.cm.test(w)||0===(null===w||void 0===w?void 0:w.length)?null:"Username must contain at least 5 characters",onChange:I}),(0,h.jsx)(u.Z,{label:"EMAIL",value:N,type:"email",name:"email",required:!0,className:v.TH.test(N)?"entered":"invalid",error:v.TH.test(N)||0===(null===N||void 0===N?void 0:N.length)?null:"Invalid email address.",onChange:I}),(0,h.jsx)(u.Z,{label:"Password",value:C,type:"password",name:"password",required:!0,className:C.length<=5?"invalid":"entered",error:C.length<=5&&0!==(null===C||void 0===C?void 0:C.length)?"Password must contain at least 6 characters":null,onChange:I}),(0,h.jsx)(c.Z,{type:"submit",text:"submit",variant:"primary",disabled:!v.TH.test(N)||!v.cm.test(w)})]})]})}):t?(0,h.jsx)(d.Z,{}):null]})}},4029:function(e,n,t){t.d(n,{Ed:function(){return m},FV:function(){return l},_0:function(){return u},dY:function(){return p},g3:function(){return c},mZ:function(){return o},tN:function(){return v},uT:function(){return d}});var s=t(4165),r=t(5861),a=t(1044),i=t(8121),o=function(e){return function(){var n=(0,r.Z)((0,s.Z)().mark((function n(t){var r,o,l;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:i.k1}),r={headers:{"Content-Type":"application/json"}},n.next=5,a.Z.post("".concat("https://club-manager.onrender.com/","api/auth/register"),e,r);case 5:o=n.sent,l=o.data,t({type:i.hk,payload:l}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),t({type:i.qz,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},l=function(){return function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n,t){var r,o,l,u,c,d,p,m,v,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n({type:i.Ew}),!t().userLogin.userInfo){e.next=10;break}return r=t(),o=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},e.next=7,a.Z.get("".concat("https://club-manager.onrender.com/","api/auth/user-admin-details"),l);case 7:u=e.sent,c=u.data,n({type:i.Np,payload:c});case 10:if(!t().googleUserLogin.userInfo){e.next=18;break}return d=t(),p=d.googleUserLogin.userInfo,m={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.token)}},e.next=15,a.Z.get("".concat("https://club-manager.onrender.com/","api/auth/user-admin-details"),m);case 15:v=e.sent,h=v.data,n({type:i.Np,payload:h});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),n({type:i.X7,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(n,t){return e.apply(this,arguments)}}()},u=function(e,n){return function(){var t=(0,r.Z)((0,s.Z)().mark((function t(r){var o,u,c;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:i.mA}),o={headers:{"Content-Type":"application/json"}},t.next=5,a.Z.post("".concat("https://club-manager.onrender.com/","api/auth/login"),{email:e,password:n},o);case 5:u=t.sent,c=u.data,r({type:i.wW,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),r(l()),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:i.U3,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},c=function(e){return function(){var n=(0,r.Z)((0,s.Z)().mark((function n(t){var r,o,u;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:i.re}),r={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.credential)}},n.next=5,a.Z.post("".concat("https://club-manager.onrender.com/","api/auth/google-login"),r);case 5:o=n.sent,u=o.data,t({type:i._,payload:u}),localStorage.setItem("userInfo",JSON.stringify(u)),t(l()),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),t({type:i.Wj,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()},d=function(){return function(e){localStorage.removeItem("userInfo"),e({type:i.lK}),e({type:i.Mt})}},p=function(e){return function(){var n=(0,r.Z)((0,s.Z)().mark((function n(t){var r,o,l;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:i.iL}),r={headers:{"Content-Type":"application/json"}},n.next=5,a.Z.post("".concat("https://club-manager.onrender.com/","api/auth/forgot-password"),{email:e},r);case 5:o=n.sent,l=o.data,t({type:i.Sr,payload:l}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),t({type:i.BA,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},m=function(e){return function(){var n=(0,r.Z)((0,s.Z)().mark((function n(t){var r,o,l;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:i.Cw}),r={headers:{"Content-Type":"application/json"}},n.next=5,a.Z.put("".concat("https://club-manager.onrender.com/","api/auth/resetpassword/").concat(e.resetPasswordToken),e,r);case 5:o=n.sent,l=o.data,t({type:i.hN,payload:l}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),t({type:i.eR,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(){var n=(0,r.Z)((0,s.Z)().mark((function n(t,r){var o,u,c,d,p,m,v,h,f,g;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t({type:i.ng}),!r().userLogin.userInfo){n.next=11;break}return o=r(),u=o.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.token)}},n.next=7,a.Z.put("".concat("https://club-manager.onrender.com/","api/auth/user/").concat(e.id),e,c);case 7:d=n.sent,p=d.data,t({type:i.Uu,payload:p}),t(l());case 11:if(!r().googleUserLogin.userInfo){n.next=20;break}return m=r(),v=m.googleUserLogin.userInfo,h={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v.token)}},n.next=16,a.Z.put("".concat("https://club-manager.onrender.com/","api/auth/user/").concat(e.id),e,h);case 16:f=n.sent,g=f.data,t({type:i.Uu,payload:g}),t(l());case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(0),t({type:i.un,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 25:case"end":return n.stop()}}),n,null,[[0,22]])})));return function(e,t){return n.apply(this,arguments)}}()}},9987:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var s=t(885),r=t(2791),a=t(9434),i=t(9135),o=t(9183),l=t(3517),u=t(1141),c=t(2200),d=t(2426),p=t.n(d),m=t(5386),v=t(7689),h=t(1087),f=t(8587),g=t(9375),x=t(5223),j=t(4942),y=t(1413),Z=t(7388),b=t(2986),w=t(8989),N=t(4419),C=t(184),I=function(e){var n=e.userId,t=e.messageId,i=(0,a.I0)(),l=(0,r.useState)({messageId:t,title:"",message:""}),c=(0,s.Z)(l,2),d=c[0],p=c[1],v=d.title,h=d.message,g=function(e){p((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,j.Z)({},e.name,e.value))}))},x=(0,a.v9)((function(e){return e.userCreateReplyPrivateMessages})),I=x.loading,k=x.error,A=x.success;return(0,C.jsxs)(C.Fragment,{children:[k?(0,C.jsx)(o.Z,{error:k}):null,A?(0,C.jsx)(b.Z,{message:"Your profile was successfully created"}):null,I?(0,C.jsx)(m.Z,{}):(0,C.jsxs)("fieldset",{className:"fieldSet",children:[(0,C.jsx)("legend",{children:"Send a Private message"}),(0,C.jsx)("div",{children:(0,C.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(d),i((0,f.UN)(d,n)),p({title:"",message:""})},children:[(0,C.jsx)(Z.Z,{label:"TITLE",value:v,type:"text",name:"title",required:!0,className:N.VD.test(v)?"entered":"invalid",error:N.VD.test(v)||0===v.length?null:"Name must contain at least 5 characters",onChange:function(e){return g(e.target)}}),(0,C.jsx)(w.Z,{label:"Message",id:"message",name:"message",value:h,error:h.length<=15&&0!==(null===h||void 0===h?void 0:h.length)?"Description must contain at least 16 characters":null,onChange:function(e){return g(e.target)}}),(0,C.jsx)(u.Z,{type:"submit",text:!N.VD.test(h)||h.length<=15?"Disabled":"submit",variant:"primary",disabled:!N.VD.test(h)||h.length<=15})]})})]})]})},k=t(4345),A=function(){var e=(0,a.I0)(),n=(0,v.s0)(),t=(0,a.v9)((function(e){return e.userLogin})).userInfo,i=(0,a.v9)((function(e){return e.googleUserLogin})).userInfo,l=(0,a.v9)((function(e){return e.userAdminDetails})).userAdmin;(0,r.useEffect)((function(){var s=!1;return t||i||null!==l&&void 0!==l&&l.isAdmin?s||e((0,f.qm)(null===l||void 0===l?void 0:l._id)):n("/login"),function(){return s=!0}}),[n,e,t,i,l]);var c=(0,a.v9)((function(e){return e.userGetPrivateMessages})),d=c.loading,j=c.success,y=c.error,Z=c.messages,b=(0,r.useState)(""),w=(0,s.Z)(b,2),N=w[0],A=w[1],S=null===Z||void 0===Z?void 0:Z.filter((function(e){return e.title.toLowerCase().includes(N.toLowerCase())})),T=(0,r.useState)(!1),E=(0,s.Z)(T,2),D=E[0],L=E[1],U=(0,r.useState)(""),R=(0,s.Z)(U,2),F=R[0],M=R[1];return(0,C.jsxs)(C.Fragment,{children:[y?(0,C.jsx)(o.Z,{error:y}):null,d?(0,C.jsx)(m.Z,{}):(0,C.jsx)(C.Fragment,{children:j&&S?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("h2",{children:"Manage Private Messages"}),(0,C.jsxs)("div",{className:"admin-get-player__top-wrapper",children:[(0,C.jsx)(g.Z,{placeholder:"SEARCH TITLE",value:N,onChange:function(e){A(e.target.value)},quantity:S.length,total:Z.length}),(0,C.jsx)(u.Z,{type:"button",text:(0,C.jsx)(h.OL,{className:function(e){return e.isActive?"active":""},to:"/admin-profile",children:"Go Back"}),variant:"info",disabled:!1})]}),(0,C.jsx)("div",{className:"wrapper",children:null===S||void 0===S?void 0:S.map((function(e){return(0,C.jsx)("div",{className:"inner-content-wrapper",children:(0,C.jsxs)("fieldset",{className:"fieldSet",children:[(0,C.jsxs)("legend",{children:["TO: ",e.to]}),(0,C.jsxs)("div",{className:"message-wrapper",children:[null!==e&&void 0!==e&&e.isComplete?(0,C.jsx)("p",{className:"small-text danger",children:"Admin has marked this as complete."}):null,(0,C.jsx)("h3",{children:(0,C.jsx)(x.Z,{value:"TITLE: ".concat(null===e||void 0===e?void 0:e.title),keyword:N})}),(0,C.jsx)("p",{children:null===e||void 0===e?void 0:e.message}),(0,C.jsx)("p",{children:null===e||void 0===e?void 0:e.from}),(0,C.jsxs)("sup",{children:["[posted ",p()(null===e||void 0===e?void 0:e.createdAt).fromNow(),"]"]})]}),null===e||void 0===e?void 0:e.privateMessageReply.map((function(e){return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"reply-wrapper",children:[(0,C.jsxs)("h4",{onClick:function(){return n=null===e||void 0===e?void 0:e._id,void Z.flatMap((function(e){return L(!0),e.privateMessageReply.flatMap((function(e){return n===e._id&&M(e)}))}));var n},children:["View Reply: ",null===e||void 0===e?void 0:e.title," "]}),D&&F._id===(null===e||void 0===e?void 0:e._id)?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{children:null===e||void 0===e?void 0:e.to}),(0,C.jsx)("p",{children:null===e||void 0===e?void 0:e.message}),(0,C.jsx)("p",{children:null===e||void 0===e?void 0:e.from}),(0,C.jsxs)("sup",{children:["[posted ",p()(null===e||void 0===e?void 0:e.createdAt).fromNow(),"]"]})]}):null]},null===e||void 0===e?void 0:e._id)})})),null!==e&&void 0!==e&&e.isComplete?null:(0,C.jsx)(k.Z,{className:"create-btn",openButtonTitle:"Reply",closeButtonTitle:"Close",variant:"success",props:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(I,{messageId:null===e||void 0===e?void 0:e._id,userId:null===l||void 0===l?void 0:l._id})})})]})},null===e||void 0===e?void 0:e._id)}))})]}):null})]})},S=function(){var e=(0,r.useState)("You are about to be logged out. Your token has expired."),n=(0,s.Z)(e,1)[0],t=(0,r.useState)(!0),d=(0,s.Z)(t,2),v=d[0],h=d[1],f=(0,r.useState)(!0),g=(0,s.Z)(f,2),x=g[0],j=g[1],y=(0,a.v9)((function(e){return e.userAdminDetails})),Z=y.loading,b=y.success,w=y.error,N=y.userAdmin;return(0,C.jsxs)(C.Fragment,{children:[w?(0,C.jsx)(o.Z,{error:w}):null,Z?(0,C.jsx)(m.Z,{}):null!==N&&void 0!==N&&N.isConfirmed?(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"inner-content-wrapper",children:[(0,C.jsx)("fieldset",{className:"fieldSet",children:(0,C.jsx)(u.Z,{type:"button",text:x?"SHOW YOUR DETAILS":"HIDE YOUR DETAILS",variant:"info",disabled:!1,onClick:function(){return j(!x)}})}),x?null:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("fieldset",{className:"fieldSet",children:(0,C.jsx)(u.Z,{type:"button",text:v?"EDIT YOUR DETAILS":"BACK TO USER DETAILS",variant:"warning",disabled:!1,onClick:function(){return h(!v)}})}),b&&null!==N&&void 0!==N&&N.isConfirmed?v?(0,C.jsx)("div",{children:(0,C.jsxs)("fieldset",{className:"fieldSet",children:[(0,C.jsx)("legend",{children:null===N||void 0===N?void 0:N.username}),(0,C.jsx)("img",{src:"../assets/male.png",className:"user-profile-image",alt:null===N||void 0===N?void 0:N.name}),(0,C.jsxs)("p",{children:["USER NAME : ",null===N||void 0===N?void 0:N.username]}),(0,C.jsxs)("p",{children:["EMAIL : ",null===N||void 0===N?void 0:N.email]}),(0,C.jsxs)("p",{children:["Registered Via Google:",!1===(null===N||void 0===N?void 0:N.registeredWithGoogle)||void 0===(null===N||void 0===N?void 0:N.registeredWithGoogle)?(0,C.jsx)(i.bGJ,{className:"ra-thumbs-down"}):(0,C.jsx)(i.spm,{className:"ra-thumbs-up"})]}),(0,C.jsxs)("p",{children:["ADMIN :"," ",!1===(null===N||void 0===N?void 0:N.isAdmin)?(0,C.jsx)(i.bGJ,{className:"ra-thumbs-down"}):(0,C.jsx)(i.spm,{className:"ra-thumbs-up"})]}),(0,C.jsxs)("p",{children:["COACH :"," ",!1===(null===N||void 0===N?void 0:N.isCoach)?(0,C.jsx)(i.bGJ,{className:"ra-thumbs-down"}):(0,C.jsx)(i.spm,{className:"ra-thumbs-up"})]}),(0,C.jsxs)("p",{children:["PLAYER :"," ",!1===(null===N||void 0===N?void 0:N.isPlayer)?(0,C.jsx)(i.bGJ,{className:"ra-thumbs-down"}):(0,C.jsx)(i.spm,{className:"ra-thumbs-up"})]}),(0,C.jsxs)("p",{children:["PARENT :"," ",!1===(null===N||void 0===N?void 0:N.isParent)?(0,C.jsx)(i.bGJ,{className:"ra-thumbs-down"}):(0,C.jsx)(i.spm,{className:"ra-thumbs-up"})]}),(0,C.jsxs)("p",{children:["CONFIRMED :"," ",!1===(null===N||void 0===N?void 0:N.isConfirmed)?(0,C.jsx)(i.bGJ,{className:"ra-thumbs-down"}):(0,C.jsx)(i.spm,{className:"ra-thumbs-up"})]}),(0,C.jsxs)("p",{children:["SUSPENDED :"," ",!1===(null===N||void 0===N?void 0:N.isSuspended)?(0,C.jsx)(i.bGJ,{className:"ra-thumbs-down"}):(0,C.jsx)(i.spm,{className:"ra-thumbs-up"})]}),(0,C.jsxs)("div",{className:"dates-wrapper",children:[(0,C.jsxs)("p",{children:["CREATED ",p()(null===N||void 0===N?void 0:N.createdAt).fromNow()]}),(0,C.jsxs)("p",{children:["UPDATED ",p()(null===N||void 0===N?void 0:N.updatedAt).fromNow()]})]})]})}):(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(l.Z,{})}):null]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(c.Z,{}),(0,C.jsx)(A,{})]})]}):(0,C.jsx)(o.Z,{error:"Please confirm your email address with the link that was provided."}),void 0!==N||Z?null:(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("p",{children:n})})]})},T=function(){return(0,C.jsx)(S,{})}}}]);
//# sourceMappingURL=397.e195a53a.chunk.js.map