"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[200],{2200:function(e,n,t){t.d(n,{Z:function(){return L}});var r=t(885),a=t(2791),s=t(7689),o=t(1087),i=t(9434),l=t(2426),u=t.n(l),c=t(4165),d=t(5861),p=t(1044),m=t(1107),f=function(){return function(){var e=(0,d.Z)((0,c.Z)().mark((function e(n,t){var r,a,s,o,i,l,u,d,f,h;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n({type:m.sP}),!t().userLogin.userInfo){e.next=10;break}return r=t(),a=r.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=7,p.Z.get("".concat("https://club-manager.onrender.com/","api/admin/general-info"),s);case 7:o=e.sent,i=o.data,n({type:m.TX,payload:i});case 10:if(!t().googleUserLogin.userInfo){e.next=18;break}return l=t(),u=l.googleUserLogin.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.token)}},e.next=15,p.Z.get("".concat("https://club-manager.onrender.com/","api/admin/general-info"),d);case 15:f=e.sent,h=f.data,n({type:m.TX,payload:h});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),n({type:m.bA,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(n,t){return e.apply(this,arguments)}}()},h=t(9183),g=t(5386),v=t(4345),x=t(4942),j=t(1413),Z=t(7388),y=t(1141),b=t(2986),w=t(4419),C=t(8989),I=t(184);var N=function(e){var n=e.postId,t=(0,i.I0)(),s=(0,i.v9)((function(e){return e.adminGetGeneralInfo})).posts,o=null===s||void 0===s?void 0:s.filter((function(e){return e._id===n&&e})),l=(0,a.useState)({id:n,name:o[0].name,heading:o[0].heading,post:o[0].post}),u=(0,r.Z)(l,2),g=u[0],v=u[1],N=g.name,k=g.heading,D=g.post,A=function(e){v((function(n){return(0,j.Z)((0,j.Z)({},n),{},(0,x.Z)({},e.name,e.value))}))},T=(0,i.v9)((function(e){return e.adminEditGeneralInfo})),L=T.success,B=T.error;return(0,I.jsxs)(I.Fragment,{children:[B?(0,I.jsx)(h.Z,{error:B}):null,L?(0,I.jsx)(b.Z,{message:"Your profile was successfully created"}):null,(0,I.jsxs)("fieldset",{className:"fieldSet",children:[(0,I.jsx)("legend",{children:"Edit General Info Post"}),(0,I.jsx)("div",{children:(0,I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(function(e){return function(){var n=(0,d.Z)((0,c.Z)().mark((function n(t,r){var a,s,o,i,l;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:m.ik}),a=r(),s=a.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},n.next=6,p.Z.put("".concat("https://club-manager.onrender.com/","api/admin/general-info-edit/").concat(e.id),e,o);case 6:i=n.sent,l=i.data,t({type:m.hT,payload:l}),t(f()),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),t({type:m.AO,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t){return n.apply(this,arguments)}}()}(g)),v({name:"",heading:"",post:""})},children:[(0,I.jsx)(Z.Z,{label:"Name",value:N,type:"text",name:"name",required:!0,className:w.VD.test(N)?"entered":"invalid",error:w.VD.test(N)||0===N.length?null:"Name must contain at least 5 characters",onChange:function(e){return A(e.target)}}),(0,I.jsx)(Z.Z,{label:"Heading",value:k,type:"text",name:"heading",required:!0,className:w.VD.test(k)?"entered":"invalid",error:w.VD.test(k)||0===(null===k||void 0===k?void 0:k.length)?null:"Please choose a number between 1 and 100",onChange:function(e){return A(e.target)}}),(0,I.jsx)(C.Z,{label:"Post",id:"post",name:"post",value:D,error:D.length<=15&&0!==(null===D||void 0===D?void 0:D.length)?"Description must contain at least 16 characters":null,onChange:function(e){return A(e.target)}}),(0,I.jsx)(y.Z,{type:"submit",text:!w.VD.test(N)||D.length<=15?"Disabled":"submit",variant:"primary",disabled:!w.VD.test(N)||D.length<=15})]})})]})]})},k=function(e){var n=e.postId,t=e.postTitle,r=(0,i.I0)(),a=(0,i.v9)((function(e){return e.adminDeleteGeneralInfo})),s=a.loading,o=a.error;return(0,I.jsxs)(I.Fragment,{children:[o?(0,I.jsx)(h.Z,{error:o}):null,s?(0,I.jsx)(g.Z,{}):(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(v.Z,{className:"create-btn",openButtonTitle:"Delete Profile",closeButtonTitle:"No thanks",variant:"danger",props:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{children:"Are you sure you want to delete post titled?"})," ",(0,I.jsx)("h3",{children:t})]}),(0,I.jsx)(y.Z,{type:"submit",text:"Yes Delete Profile",variant:"danger",disabled:!1,onClick:function(){r(function(e){return function(){var n=(0,d.Z)((0,c.Z)().mark((function n(t,r){var a,s,o,i,l;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:m.JZ}),a=r(),s=a.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},n.next=6,p.Z.delete("".concat("https://club-manager.onrender.com/","api/admin/general-info-delete/").concat(e),o);case 6:i=n.sent,l=i.data,t({type:m.cb,payload:l}),t(f()),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),t({type:m.FQ,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t){return n.apply(this,arguments)}}()}(n))}})]})})})]})},D=t(9375),A=function(){var e=(0,i.I0)(),n=(0,s.s0)(),t=(0,i.v9)((function(e){return e.userLogin})).userInfo,o=(0,i.v9)((function(e){return e.googleUserLogin})).userInfo,l=(0,i.v9)((function(e){return e.userAdminDetails})).userAdmin,u=(0,a.useState)({name:"",heading:"",post:""}),g=(0,r.Z)(u,2),v=g[0],N=g[1],k=v.name,D=v.heading,A=v.post,T=function(e){N((function(n){return(0,j.Z)((0,j.Z)({},n),{},(0,x.Z)({},e.name,e.value))}))},L=(0,i.v9)((function(e){return e.adminCreateGeneralInfo})),B=L.error,P=L.success;return(0,I.jsxs)(I.Fragment,{children:[B?(0,I.jsx)(h.Z,{error:B}):null,P?(0,I.jsx)(b.Z,{message:"Your profile was successfully created"}):null,(0,I.jsxs)("fieldset",{className:"fieldSet",children:[(0,I.jsx)("legend",{children:"Create General Info Post"}),(0,I.jsx)("div",{children:(0,I.jsxs)("form",{onSubmit:function(r){r.preventDefault(),t&&(o||null!==l&&void 0!==l&&l.isAdmin)?(e(function(e){return function(){var n=(0,d.Z)((0,c.Z)().mark((function n(t,r){var a,s,o,i,l;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:m.KX}),a=r(),s=a.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},n.next=6,p.Z.post("".concat("https://club-manager.onrender.com/","api/admin/general-info-create"),e,o);case 6:i=n.sent,l=i.data,t({type:m.Bi,payload:l}),t(f()),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),t({type:m.Ex,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t){return n.apply(this,arguments)}}()}(v)),N({name:"",heading:"",post:""})):n("/login")},children:[(0,I.jsx)(Z.Z,{label:"Name",value:k,type:"text",name:"name",required:!0,className:w.VD.test(k)?"entered":"invalid",error:w.VD.test(k)||0===k.length?null:"Name must contain at least 5 characters",onChange:function(e){return T(e.target)}}),(0,I.jsx)(Z.Z,{label:"Heading",value:D,type:"text",name:"heading",required:!0,className:w.VD.test(D)?"entered":"invalid",error:w.VD.test(D)||0===(null===D||void 0===D?void 0:D.length)?null:"Please choose a number between 1 and 100",onChange:function(e){return T(e.target)}}),(0,I.jsx)(C.Z,{label:"Post",id:"post",name:"post",value:A,error:A.length<=15&&0!==(null===A||void 0===A?void 0:A.length)?"Description must contain at least 16 characters":null,onChange:function(e){return T(e.target)}}),(0,I.jsx)(y.Z,{type:"submit",text:!w.VD.test(k)||A.length<=15?"Disabled":"submit",variant:"primary",disabled:!w.VD.test(k)||A.length<=15})]})})]})]})},T=t(5223),L=function(){var e=(0,i.I0)(),n=(0,s.s0)(),t=(0,i.v9)((function(e){return e.userLogin})).userInfo,l=(0,i.v9)((function(e){return e.googleUserLogin})).userInfo,c=(0,i.v9)((function(e){return e.userAdminDetails})).userAdmin;(0,a.useEffect)((function(){var r=!1;return t||l||null!==c&&void 0!==c&&c.isAdmin?r||e(f()):n("/login"),function(){return r=!0}}),[n,e,t,c,l]);var d=(0,i.v9)((function(e){return e.adminGetGeneralInfo})),p=d.loading,m=d.success,x=d.error,j=d.posts,Z=(0,a.useState)(""),b=(0,r.Z)(Z,2),w=b[0],C=b[1],L=null===j||void 0===j?void 0:j.filter((function(e){return!(!e.heading.toLowerCase().includes(w.toLowerCase())&&!e.post.toLowerCase().includes(w.toLowerCase()))&&e}));return(0,I.jsxs)("div",{children:[x?(0,I.jsx)(h.Z,{error:x}):null,(0,I.jsx)("h2",{children:"General Notices"}),(0,I.jsxs)("div",{className:"admin-get-player__top-wrapper",children:[null!==c&&void 0!==c&&c.isAdmin?(0,I.jsx)(v.Z,{className:"create-btn",openButtonTitle:"Create A NEW POST",closeButtonTitle:"Close modal",variant:"success",props:(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(A,{})})}):null,(0,I.jsx)(D.Z,{placeholder:"SEARCH POST",value:w,onChange:function(e){C(e.target.value)},quantity:null===L||void 0===L?void 0:L.length,total:null===j||void 0===j?void 0:j.length}),null!==c&&void 0!==c&&c.isAdmin?(0,I.jsx)(y.Z,{type:"button",text:(0,I.jsx)(o.OL,{className:function(e){return e.isActive?"active":""},to:"/admin-profile",children:"Go Back"}),variant:"info",disabled:!1}):null]}),p?(0,I.jsx)(g.Z,{}):m&&L?(0,I.jsx)("div",{className:"wrapper",children:null===L||void 0===L?void 0:L.map((function(e){return(0,I.jsx)("div",{className:"inner-content-wrapper",children:(0,I.jsx)("div",{children:(0,I.jsxs)("fieldset",{className:"fieldSet",children:[(0,I.jsx)("legend",{children:(0,I.jsx)(T.Z,{value:e.heading,keyword:w})}),(0,I.jsx)(T.Z,{value:e.post,keyword:w}),(0,I.jsxs)("p",{className:"small-text",children:["BY: ",e.name]}),null!==c&&void 0!==c&&c.isAdmin?(0,I.jsxs)("div",{className:"button-wrapper",children:[(0,I.jsx)(v.Z,{className:"create-btn",openButtonTitle:"Edit Post",closeButtonTitle:"Close modal",variant:"warning",props:(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(N,{postId:e._id})})}),(0,I.jsx)(k,{postId:e._id,postTitle:e.heading})]}):null,(0,I.jsxs)("div",{className:"dates-wrapper",children:[(0,I.jsxs)("p",{children:[" Created: ",u()(e.createdAt).fromNow()]}),(0,I.jsxs)("p",{children:[" Updated: ",u()(e.updatedAt).fromNow()]})]})]})})},e._id)}))}):null]})}}}]);
//# sourceMappingURL=200.1f531cea.chunk.js.map